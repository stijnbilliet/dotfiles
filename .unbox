#!/bin/bash

set -e # Exit immediately on command failures

echo -e "-- Checking if python is installed \n"
python3 --version
if [ $? != 0 ]; then # Check return value of last statement
    dnf install python3
fi

echo -e "\n -- Checking if Ansible is installed \n"
pip3 show ansible
if [ $? != 0 ]; then 
    pip3 install ansible
fi

echo -e "\n -- Installing ansible requirements \n"
export PATH="$PATH:~/.local/bin"
ansible-galaxy install -r ~/.config/ansible/requirements.yml
